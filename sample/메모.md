# 의존성 주입 (defendency injection)

- 내가 직접 만들지 않고, 남이 주는걸 받아 먹는다
- 내가 직접 객체 정보를 끌어오지 않음. 외부에서 받아씀.

예를 들어서, 메가커피라고 생각해보자

메가 커피에서 아이스 아메리카노를 받아서 먹으려면 빨대가 필요함

근데 빨대를 내가 만들어서 꽂냐? ㄴㄴ 메가커피에 빨대들이 싹 제공됨

꽂는건 내가 해야하지만 (요청)

꽂아서 먹을 수 있다는게 중요 내가 만든거 아니고 메가커피가 만듦

근데 의존성 자동주입은 이미 커피가 나올때 점원분이

너 이거 필요했지? 하면서 빨대를 알잘딱 눈치껏 같이 내주는거임

여기까진 좀 장난스러운 예시고

핵심은 이제 spring에서 알아서 눈치껏 객체정보를 챙겨준다는게 핵심

spring framework는 거대한 container를 가지고 있는데,

1. spring이 시작될 때, 프로젝트에 있는 모든 객체를 미리 만들어서 그 container에 넣어둠 => 이걸 Bean 이라고 지칭

2. 개발자가 "여기에 bean이 필요해" 라고 표시해두면

3. spring framework 에서 알잘딱으로 갖다줌

-------------------------------------------------------

## 3줄 요약

1. **의존성(Dependency):** 내가 일하는 데 필요한 도구 (예: Service가 필요한 Mapper).
2. **주입(Defendency Injection):** 도구를 내가 직접 만드는(`new`) 게 아니라, **외부에서 받아서 쓰는 것**.
3. **의존성 자동주입:** 스프링이 "너 이거 필요하지?" 하고 **알아서 찾아서 연결해 주는 것**. (`@Autowired`나 생성자 등을 통해)
... (그것도 아니면 `@Bean`)


# 의존성 자동주입

## 스프링 빈 등록

## 클래스 기반 빈 등록

@Component : 일반 빈 등록
@Service : 비즈니스 로직 빈 등록 + 트랜잭션 처리
    (@Transactional ... )
@Repository : DB 접근 빈 등록 + 예외 변환
@Controller : 요청/처리 빈 등록 + MVC 연동
    (@RequestMapping ... )

## 설정 클래스를 통한 빈 등록

@Configuration : 설정 클래스 지정
@Bean : 메서드 기반 빈 등록

## 의존성 자동 주입

@Autowired : 타입 기반 자동 주입
@Qualifired : 빈 이름 저장
@Primary : 우선순위 빈 지정
@Value : application.properties 속성 값 주입
(property.name = 값)
(@Value("${property.name}") String name;)